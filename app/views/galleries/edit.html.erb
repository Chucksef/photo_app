<div class="page-header">
    <h1>Edit <%= @gallery.name %></h1>
    <%= link_to "<< Back to Index", galleries_path, class: "btn btn-default" %>
</div>
<%= form_for @gallery do |f| %>

    <%= render 'shared/error_messages' %>

    <div class="form-group">
        <%= f.label "Name: "%>
        <%= f.text_field :name, class: "form-control" %>
    </div>
    <div class="form-group">
        <%= f.label "Description: " %>
        <%= f.text_area :description, class: "form-control" %>
    </div>
    <table class="table table-condensed table-bordered table-striped">
        <tr>
            <th><strong>Thumbnail</strong></th>
            <th><strong>Filename</strong></th>
            <th><strong>Added</strong></th>
            <th><strong>Move Image</strong></th>
            <th class="text-center"><strong>Delete</strong></th>
        </tr>
        <% @gallery.images.each do |image| %>
            <tr>
                <td><%= image_tag(image, alt: image.filename, class: "img-table") %></td>
                <td><%= image.filename %></td>
                <td><%= image.created_at %></td>
                <td><select name="Galleries"><option value="default">Default</option></select></td>
                <td><%= link_to "DELETE #{image.name}", delete_image_attachment_gallery_path(image.signed_id, @gallery.id), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-block btn-xs btn-danger" %></td>
            </tr>
        <% end %>
    </table>
    <div class="form-group">
        <%= f.label :images %>
        <%= f.file_field :images, multiple: true, direct_upload: true, class: "form-control" %>
    </div>
    <div class="checkbox">
        <label>
            <%= f.check_box :visible %> Visible?
        </label>
    </div>
    <hr/>
    <%= f.submit "Update Gallery", class: "btn btn-primary" %>
    <%= link_to 'Delete Gallery', @gallery, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger pull-right" %>
<% end %>